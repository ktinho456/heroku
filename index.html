<html>  
<head>
<style>
#main {
        border:#333;
        border-width:2px;
        border-style:solid;
}


</style>
</head>
	
	
 
 <script src="/socket.io/socket.io.js"></script>
<script>

	
	

	
	
	
	

var player = Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);




var map = Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0]);









var objectMap = Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);






var objectDict = Array("casa1.png","arvore.png", "a.png", "b.png");
var tileDict = Array( "land11.png","tttt.png","swamp.png"  , "tt.png");
var charDict = Array("p1.png" , "lu.png" , "blod2.png" , "mt222.png");
var charImg = new Array();
var tileImg = new Array();
var objectImg = new Array();
var loaded = 0;
var loadTimer;
var tileH = 25;
var tileW = 50;
var ymouse;
var xmouse;
var mapX = 450;
var mapY = -150;
var playerX = 10;
var playerY = 10;
var newplayerX = 10;
var newplayerY = 10;
var jogadores;
var xpos;
var ypos;

var level = 10;
var pontos = 10;

monstro = 0;
morto = 1;

var movey = 10;

var movey1 = 10;


var objeto ;

var t = 1;

///var map = mapp;


var mtx = 30;
var mty = 25;

var mtx1 = 30;
var mty1 = 25;

var mtx2 = 15;
var mty2 = 5;

var mtx3 = 10;
var mty3 = 35;


////////var socket = io.connect('http://localhost:8000');

      var socket = io();
      var el = document.getElementById('server-time');





function loadImg(){
	for(var i=0;i<tileDict.length;i++){
		tileImg[i] = new Image();
		tileImg[i].src = tileDict[i];
		tileImg[i].onload = function(){
			loaded++;
		}
	}
	for(var i=0;i<charDict.length;i++){
		charImg[i] = new Image();
		charImg[i].src = charDict[i];
		charImg[i].onload = function(){
			loaded++;
		}
	}
	for(var i=0;i<objectDict.length;i++){
		objectImg[i] = new Image();
		objectImg[i].src = objectDict[i];
		objectImg[i].onload = function(){
			loaded++;
		}
	}
	
	
}





function loadAll(){
	if(loaded == tileDict.length + charDict.length + objectDict.length){
		clearInterval(loadTimer);
		loadTimer = setInterval(gameUpdate,200);
		


	}
}


function gameUpdate(){
	ctx.clearRect(0,0,350,230)
	 

	drawMap();
}


function mouseCheck(e){
		var x = e.pageX;
		var y = e.pageY;
		ymouse=(2*(y-canvas.offsetTop-mapY)-x+canvas.offsetLeft+mapX)/2;
		xmouse=x+ymouse-mapX-25-canvas.offsetLeft
 		ymouse=Math.round(ymouse/25);
		xmouse=Math.round(xmouse/25);
		document.title = "tileY:" + ymouse + " | tileX:" + xmouse;
		

	


	
}



function drawMap(){
 
 


		for(i=0;i<map.length;i++){
				for(j=0;j<map[i].length;j++){
					var drawTile = map[i][j];
					var drawObj = objectMap[i][j];
					var jogadores = player[i][j];
					var xpos = (i-j)*tileH + mapX;
					var ypos = (i+j)*tileH/2+ mapY;
					ctx.drawImage(tileImg[drawTile],xpos,ypos);
					if(drawObj){
						ctx.drawImage(objectImg[drawObj-1],xpos,ypos-(objectImg[drawObj-1].height));
									
				}
					
	


  


				
                   
                    
                    if(jogadores){
						///ctx.drawImage(charImg[2],xpos,ypos-(charImg[2].height));
		
		ctx.drawImage(charImg[jogadores-1],currentFrame,movey,150,200,xpos,ypos -(charImg[jogadores-1].height/13),100,150);
				  
		  }


   if(i == mtx && j == mty){
ctx.drawImage(charImg[3],currentFrame1,movey1,100,150,xpos,ypos -(charImg[3].height/15) ,50,100);
							
	}

		  
					if(i == xmouse && j == ymouse){
											  ctx.fillStyle = 'rgba(255, 255, 120, 0.7)';
											  ctx.beginPath();
											  ctx.moveTo(xpos, ypos+12.5);
											  ctx.lineTo(xpos+25, ypos);
											  ctx.lineTo(xpos+50, ypos+12.5);
											  ctx.lineTo(xpos+25, ypos+25);
											  ctx.fill();
											 
						}
				}
				
				
	
			
		}
		
		
		
			
};





imagedp = new Image()
imagedp.src = 'distripont.png';

imageinv = new Image()
imageinv.src = 'inventario.png';

imagepod = new Image()
imagepod.src = 'poderes.png';


function mouseClick(e)
{
//			image = new Image()
//			image.src = 'avatar.png';
var xpos = (newplayerX+newplayerY)*this.tileH/2 + mapX;
var ypos = (newplayerX+newplayerY)*this.tileH/2+ mapY;

var playerx1 = playerX;
var playery1 = playerY;
var playerxx = playerX+1;
var playeryy = playerY+1;
var playerr = playerX-1;
var playerrr = playerY-1;

player[playerx1][playery1] = 1;

if(playerx1 !== playerxx && playery1 !== playeryy){
delete player[playerxx][playeryy];
delete player[playerr][playerrr];
delete player[playerx1][playeryy];
delete player[playerx1][playerrr];

delete player[playerxx][playery1];
delete player[playerr][playery1];
delete player[playerxx][playerrr];
delete player[playerr][playeryy];


}












	newX = playerX; // local copies
	newY = playerY;
		
	if(xmouse > newX) newX++ //////&& mapX++;
	if(ymouse > newY) newY++ ///////&& mapY++;
	if(xmouse < newX) newX-- /////////&& mapX--;
	if(ymouse < newY) newY-- ////////&& mapY--;
	
	
	
	
	 			 if(mtx > newX)mtx --;
				 if(mty > newY)mty --;
				 if(mtx < newX)mtx ++; 
				 if(mty < newY)mty ++;
				 
				 
				 	
	 			 if(mtx1 > newX)mtx1 --;
				 if(mty1 > newY)mty1 --;
				 if(mtx1 < newX)mtx1 ++; 
				 if(mty1 < newY)mty1 ++;
				 
				 
				 	
	 			 if(mtx2 > newX)mtx2 --;
				 if(mty2 > newY)mty2 --;
				 if(mtx2 < newX)mtx2 ++; 
				 if(mty2 < newY)mty2 ++;
				 
				 	
	 			 if(mtx3 > newX)mtx3 --;
				 if(mty3 > newY)mty3 --;
				 if(mtx3 < newX)mtx3 ++; 
				 if(mty3 < newY)mty3 ++;

                                 if(mtx == newX)mtx = 10;//mata monstro
      				 if(mty == newY)mty = 10;//mata monstro
                                 
                                 if(mtx == newX || mty == newY)monstro = morto;
		


		if(mtx > playerY && mty < playerX) movey1 = 290;
		if(mty > playerY && mtx  < playerX) movey1 = 420;
		if(mty > playerY && mtx  > playerX) movey1 = 560;
		if(mty < playerY && mtx  < playerX) movey1 = 845;

		
		if(mtx  == playerX && mty > playerY) movey1 = 135;
		if(mtx  == playerX && mty < playerY) movey1 = 703;
		if(mtx  < playerX && mty == playerY) movey1 = 420;
		if(mtx  > playerX && mty == playerY) movey1 = 5;
	



              
		


	
	




	
	
	
	 	if(xmouse > newX && ymouse < newY) movey = 724;
		if(ymouse > newY && xmouse < newX) movey = 475;
		if(ymouse > newY && xmouse > newX) movey = 10;
		if(ymouse < newY && xmouse < newX) movey = 240;

		
		if(xmouse == newX && ymouse > newY) movey = 1430;
		if(xmouse == newX && ymouse < newY) movey = 1196;
		if(xmouse < newX && ymouse == newY) movey = 966;
		if(xmouse > newX && ymouse == newY) movey = 1687;
		
		if(xmouse == newX && ymouse == newY) movey = 1933;
	////clickSound.play();
	
	////if(xmouse > 25)map = mapa; 	
	
	
		
	document.getElementById("vy").innerHTML = xmouse;
        document.getElementById("vx").innerHTML = ymouse;


if(monstro == morto)pontos +=5;
  
        document.getElementById("lvl").innerHTML = level;
        document.getElementById("pts").innerHTML = pontos;

	if(map[newX] && map[newX][newY] !== 2 && map[newX] && map[newX][newY] !== undefined)
	
	
	 		
	 
    
    	
	{
		playerX = newX;
		playerY = newY;
		

		

	}
	if(newY !== ymouse  || newX !== xmouse){
socket.emit('position', {playerX: playerX, playerY: playerY});


///objectMap[xpos ][ypos] = 1;

}

 /// objectMap [playerX][playerY] = 1;
  
/////	delete objectMap [newX][newY] ;

	// objectMap [xmouse][ymouse] = 2;
	 
	// objectMap [xmouse][ymouse] = 3;
	 
	// objectMap [xmouse][ymouse] = 4;
	
	
	 ///if(ymouse < playerY) mapX -= 30;	
	 ///if(xmouse < playerX) mapX += 30;	
	 ///if(ymouse > playerY) mapX += 30;	
	 ///if(xmouse > playerX) mapX -= 30;	
	
	
		
	

////alert(valor);

	

	
	 /////objectMap [ playerX ][ playerY ] = t ; 
	
 /////if(playerX == 0 && playerY == 9 ) 
 
 ////if(playerX == 0 && playerY == 8 ) drawMap = true;
///	map[xmouse][ymouse] = 2;
	 		

//// objectMap [xmouse][ymouse] = t;


};







       var x = 50,
                y = 50,
          frames = 900,
                 
                currentFrame = +0,
                 
               //// canvas = document.getElementById("myCanvas");
                
                image = new Image()
                image.src = 'avatar.png';
         
        var draw = function(){
             ///   ctx.clearRect(0, 0, x, y);
             ////  ctx.drawImage(image,y*currentFrame,0, x, y, 0, 0, x, y);
         
         /////ctx.drawImage(image,y*currentFrame,movey,50,50,xpos,ypos,50,50);
         
                if (currentFrame == frames) {
                  currentFrame = 0;
                } else {
                  currentFrame+=150;

                }
        }

 setInterval(draw, 100);


       var x1 = 50,
                y1 = 50,
          frames1 = 600,
                 
                currentFrame1 = +0,
                 
               
                
                image = new Image()
                image.src = 'avatar.png';
         
        var draw1 = function(){
            
         
                if (currentFrame == frames1) {
                  currentFrame1 = 0;
                } else {
                  currentFrame1+=100;

                }
        }

 setInterval(draw1, 100);














function playAudioOnKeyDown(e) {
  if (e.keyCode == 65) {
    clickSound.play();
    ctx.drawImage( imagedp,0,0);
  }

if (e.keyCode == 83) {
    clickSound.play();
    ctx.drawImage( imageinv,0,0);
  }


if (e.keyCode == 68) {
    clickSound.play();
    ctx.drawImage( imagepod,0,0);
  }


};




//------------------------------------------------------------------------------





//------------------------------------------------------


function mostrarmensagem(){
var valor = document.getElementById("t").value;

t = valor;

///map[xmouse][ymouse]=2

}


function init(){
//////    document.onkeydown = playAudioOnKeyDown; 

/////document.onkeydown = checkKeycode;	
	canvas = document.getElementById('main')
     
	ctx = canvas.getContext('2d');	
	loadImg();
	/////////jogadores = (newplayer,100);
	loadTimer = setInterval(loadAll,200);
	
	var Timer = setInterval(mouseClick,200);
	canvas.addEventListener("mousedown", mouseCheck, false);
	canvas.addEventListener("mousedown", mouseClick, false);

};






      socket.on('time', function(timeString) {
        el.innerHTML = 'Server time: ' + timeString;
      });












</script>

<body onLoad="init();">
<p id="nickname"></p>
<canvas id="main" width="750" height="550" style="margin-top:10px; margin-left:10px;"></canvas



onload="initPage();"
		onunload="exitPage();"
		>

        <div id="l">level >> <span id="lvl"></span></div>
        <div id="p">pontos >> <span id="pts"></span></div>

        <div id="y">posicaox >> <span id="vy"></span></div>
        <div id="y">posicaoy >> <span id="vx"></span></div>
      
 
 <input id ="t"type="text"/>
<input type="boton" value="mostrar" onclick ="mostrarmensagem()"/;>
      
      <p id='server-time'></p>
      <p id="log"></p>
      <p id="data_recieved"></p>
      
   
   </body>
      
</html>
